var E=Object.defineProperty;var c=(n,e)=>()=>(n&&(e=n(n=0)),e);var v=(n,e)=>{for(var t in e)E(n,t,{get:e[t],enumerable:!0})};var r,a,u=c(()=>{r=(n,e,t=null)=>{let o=new CustomEvent(n,{detail:{payload:t},bubbles:!0,cancelable:!0,composed:!1});e.dispatchEvent(o)},a=(n,e)=>{let t=()=>{e(),n.removeEventListener("transitionend",t,!0)};window.getComputedStyle(n,null).getPropertyValue("transition")!==(navigator.userAgent.includes("Firefox")?"all":"all 0s ease 0s")?n.addEventListener("transitionend",t,!0):e()}});var i,m=c(()=>{i=class{constructor(e,t,o){this.el=e;this.options=t;this.events=o;this.el=e,this.options=t,this.events={}}createCollection(e,t){e.push({id:t?.el?.id||e.length+1,element:t})}fireEvent(e,t=null){if(this.events.hasOwnProperty(e))return this.events[e](t)}on(e,t){this.events[e]=t}}});var d={};v(d,{default:()=>w});var s,w,h=c(()=>{u();m();s=class n extends i{toggle;content;group;isAlwaysOpened;constructor(e,t,o){super(e,t,o),this.toggle=this.el.querySelector(".hs-accordion-toggle")||null,this.content=this.el.querySelector(".hs-accordion-content")||null,this.group=this.el.closest(".hs-accordion-group")||null,this.isAlwaysOpened=this.group.hasAttribute("data-hs-accordion-always-open")||!1,this.toggle&&this.content&&this.init()}init(){this.createCollection(window.$hsAccordionCollection,this),this.toggle.addEventListener("click",()=>{this.el.classList.contains("active")?this.hide():this.show()})}show(){if(this.group&&!this.isAlwaysOpened&&this.group.querySelector(".hs-accordion.active")&&this.group.querySelector(".hs-accordion.active")!==this.el&&window.$hsAccordionCollection.find(t=>t.element.el===this.group.querySelector(".hs-accordion.active")).element.hide(),this.el.classList.contains("active"))return!1;this.el.classList.add("active"),this.content.style.display="block",this.content.style.height="0",setTimeout(()=>{this.content.style.height=`${this.content.scrollHeight}px`}),a(this.content,()=>{this.content.style.display="block",this.content.style.height="",this.fireEvent("open",this.el),r("open.hs.accordion",this.el,this.el)})}hide(){if(!this.el.classList.contains("active"))return!1;this.el.classList.remove("active"),this.content.style.height=`${this.content.scrollHeight}px`,setTimeout(()=>{this.content.style.height="0"}),a(this.content,()=>{this.content.style.display="",this.content.style.height="0",this.fireEvent("close",this.el),r("close.hs.accordion",this.el,this.el)})}static getInstance(e,t){let o=window.$hsAccordionCollection.find(l=>l.element.el===(typeof e=="string"?document.querySelector(e):e));return o?t?o:o.element.el:null}static show(e){let t=window.$hsAccordionCollection.find(o=>o.element.el===(typeof e=="string"?document.querySelector(e):e));t&&t.element.content.style.display!=="block"&&t.element.show()}static hide(e){let t=window.$hsAccordionCollection.find(o=>o.element.el===(typeof e=="string"?document.querySelector(e):e));t&&t.element.content.style.display==="block"&&t.element.hide()}static autoInit(){window.$hsAccordionCollection||(window.$hsAccordionCollection=[]),document.querySelectorAll(".hs-accordion:not(.--prevent-on-load-init)").forEach(e=>{window.$hsAccordionCollection.find(t=>t?.element?.el===e)||new n(e)})}static on(e,t,o){let l=window.$hsAccordionCollection.find(f=>f.element.el===(typeof t=="string"?document.querySelector(t):t));l&&(l.element.events[e]=o)}};window.addEventListener("load",()=>{s.autoInit()});typeof window<"u"&&(window.HSAccordion=s);w=s});var p={mounted(){Promise.resolve().then(()=>(h(),d)).then(n=>{n?.default?.autoInit()})},updated(){Promise.resolve().then(()=>(h(),d)).then(n=>{n?.default?.autoInit()})}};var y={mounted(){let n=this.el.querySelector("img");n.addEventListener("load",()=>{n.style.display="block"}),n.addEventListener("error",()=>{n.style.display="none"})},updated(){let n=this.el.querySelector("img");n.addEventListener("load",()=>{n.style.display="block"}),n.addEventListener("error",()=>{n.style.display="none"})}};var g={mounted(){this.el.addEventListener("click",()=>{let e=(localStorage.getItem("theme")??"light")==="dark"?"light":"dark";document.documentElement.classList.toggle("dark",e==="dark"),localStorage.setItem("theme",e)})}};var P={Avatar:y,ThemeSwitcher:g,Accordion:p};var O={onBeforeElUpdated(n,e){n.classList.contains("hs-accordion")&&(e.className=n.className)}};export{O as dom,P as hooks};
//# sourceMappingURL=live_view_ui.mjs.map
